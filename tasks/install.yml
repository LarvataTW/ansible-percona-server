- name: install | configure debconf
  debconf:
    name: "{{ item.name }}"
    question: "{{ item.question }}"
    value: "{{ item.value }}"
    vtype: "{{ item.vtype }}"
  with_items: percona_server_debconf_selections
  when: mysqld_installed.rc != 0
  tags:
    - percona-server-install-configure-debconf

- name: install | dependencies
  apt:
    name: "{{ item }}"
    state: latest
  with_items: percona_server_dependencies
  tags:
    - percona-server-install-dependencies

- name: install | additional
  apt:
    name: "{{ item }}"
    state: latest
  with_items: percona_server_install
  tags:
    - percona-server-install-additional
